<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8"/>
	<meta name="keywords" content="シンタックス, ファイルマッピング, ファイル関連付け, 拡張子, シェバン, シバン, インタープリタ"/>
	<link rel="stylesheet" href="../../Shared/sty/standard.css"/>
	<script defer src="../../Shared/js/toc.js"></script>
	
	<title>MacのCotEditorでファイルをシンタックスに関連付ける</title>
</head>

<body>
<a name="syntax_file_mapping"></a>

<h1>MacのCotEditorでファイルをシンタックスに関連付ける</h1>

<p>ファイルを開いたとき、CotEditorは自動でそのファイルの種類を判定して適切なシンタックスを適用します。</p>

<p>このとき、どのシンタックスが適用されるかは、各シンタックス定義内で設定された「ファイル関連付け」の情報を元に決定されます。</p>

<h2>ファイル関連付けの優先順位</h2>

<p>CotEditorは以下の順序で最適なシンタックスを捜査します。</p>

<ol>
	<li>ファイル名拡張子<ul>
		<li>ファイル名拡張子から対応するシンタックスを探します。このとき大文字/小文字を無視しますが、対応するシンタックスが複数ある場合は大文字/小文字が対応しているものを優先します。</li>
		<li>例: .html → HTML</li>
		<li>例: .hTmL → HTML</li>
		<li>例: .py → Python</li>
	</ul></li>
	<li>ファイル名<ul>
		<li>対応する拡張子がなかったとき、またはファイル名に拡張子がなかったときは、ファイル名全体を元に対応するシンタックスを探します。</li>
		<li>例: .htaccess → Apache</li>
		<li>例: makefile → Makefile</li>
	</ul></li>
	<li>ファイル内の1行目のシェバン<ul>
		<li>対応する拡張子・ファイル名がないとき、書類内の最初の行がシェバンであれば、それを手掛かりにシンタックスを探します。この捜査ではシンタックス定義のファイル関連付けの「インタープリタ」の設定が用いられます。シェバンの <code>#!</code> 直後のパスの最後の語句、またはパスが <code>env</code> の場合はその次の語句が、インタープリタ名として検索語句に使用されます。</li>
		<li>例: <code>#!/usr/bin/perl</code> → Perl (インタープリタ名: <code>perl</code>)</li>
		<li>例: <code>#!/usr/bin/env python3</code> → Python (インタープリタ名: <code>python3</code>)</li>
	</ul></li>
	<li>XML宣言<ul>
		<li>対応する拡張子・ファイル名・インタープリタがないとき、ファイル内容がXML宣言で始まっていたら、自動的にXMLシンタックスを適用します。</li>
		<li>例: <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code> → XML</li>
	</ul></li>
	<li>なし<ul>
		<li>該当するシンタックスが何もないときは、シンタックスは「なし」に設定されます。</li>
	</ul></li>
</ol>

<p>拡張子やファイル名など同じレベルで複数の対応シンタックスがあった場合は、バンドルされたプリセットのシンタックスよりもユーザのカスタムシンタックスが優先されます。さらにその中でも複数の対応シンタックスがあった場合は、自動的に最初に見つかったシンタックスを適用します。</p>


<h2>ファイル関連付けを編集する</h2>

<p>シンタックスのアファイル関連付けルールを定義するには、シンタックスエディタの左のリストから「ファイル関連付け」を選択し、右側のリストに拡張子やファイル名、インタープリタを追加します。シンタックスエディタの開き方は<a href="syntax_definition.html">「シンタックスを定義する」</a>を参照してください。</p>


<h2>ファイル関連付けのコンフリクトを解決する</h2>

<p>バンドルされているシンタックスにファイル関連付けのコンフリクトはありませんが、ユーザが独自にシンタックスを追加した場合やバンドルされているシンタックスのファイル関連付けを変更した場合は、コンフリクトがおこることがあります。現在ファイル関連付けのコンフリクトが発生しているかどうかは、「フォーマット」設定の「使用可能なシンタックス」リストのアクションポップアップメニューにある「ファイル関連付けのコンフリクトを表示」から探すことができます。この項目が選択不可能になっているときは、ファイル関連付けのコンフリクトは発生していません。</p>

<p>ファイルを期待するシンタックスで開くことができているかぎりは、ファイル関連付けのコンフリクトがあっても放置しておいてかまいません。</p>


<section id="cf">
<h2>関連項目</h2>
<ul>
	<li><a href="syntax_definition.html">シンタックスを定義する</a></li>
	<li><a href="settings_format.html">「フォーマット」設定を変更する</a></li>
</ul>
</section>

</body>
</html>
